package com.sdase.malwarescanner.task;


import com.sdase.malwarescanner.strategy.ExaminationCheckProcess;
import org.springframework.scheduling.annotation.Scheduled;
import org.springframework.stereotype.Component;

import static com.sdase.malwarescanner.util.CheckTracker.isNewRecord;

@Component
public class CheckProcessTask {

    private ExaminationCheckProcess okStrategy;

    public CheckProcessTask(ExaminationCheckProcess okStrategy) {
        this.okStrategy = okStrategy;
    }

    @Scheduled(fixedDelay = 60000)
    public void examine() {

        if (isNewRecord())
            okStrategy.examineCheckProcess();
    }

}
